📖 Описание
VarvaDB - это высокопроизводительная NoSQL база данных с ключ-значение хранилищем, построенная на основе LSM-дерева (Log-Structured Merge Tree). База данных оптимизирована для сценариев с интенсивной записью и обеспечивает устойчивость данных через механизм WAL (Write-Ahead Log).

Основные особенности
LSM-дерево для эффективной работы с запросами на запись

WAL (Write-Ahead Log) для гарантии сохранности данных

Bloom фильтры для ускорения поиска несуществующих ключей

Многоуровневая компрессия для оптимизации хранения

REST API для простой интеграции

Написана на Go для высокой производительности и кроссплатформенности

Use Cases
Кэширование данных

Хранение логов и метрик

Сессионные хранилища

Промежуточные буферы данных

🏗️ Структура проекта
```bash
varvaDB/
├── cmd/
│   └── main.go                      # Точка входа приложения
│── config/
│   └── config.go                    # Загрузчик конфигурации
├── internal/
│   ├── bloom/
│   │   ├── bloom.go                 # Реализация фильтра блума
│   ├── core/
│   │   │── engine/
│   │   │    │── engine.go/          # Интерфейс ядра
│   │   │    └── lsm.go/             # Ядро на базе LSM дерева
│   │   │── memTable/
│   │   │   └── memTable.go/         # Хранилище данных в оперативной памяти
│   │   │── ss/
│   │   │    │── manager.go/         # Менеджер ss таблиц
│   │   │    │── saver.go/           # Запись данных на диск   
│   │   │    └── compactor.go/       # Фоновое сжатие ss таблиц   
│   │   │── wal/
│   │   │    │── manager.go/         # Менеджер wal журнала
│   │   │    └── wal.go/             # Запись данных на диск
│   ├── domain/
│   │   ├── index.go                 # Индекс
│   │   ├── operations.go            # Типы операций
│   │   ├── record.go                # Записи
│   │   │── ssMessage.go             # Сообщение для saver
│   │   └── table.go                 # Таблицы
│   └── material/
│       │── errors/
│       │    └── errors.go           # Ошибки хэндлера
│       │── handlers/
│       │    │── handler.go          # Объект http хэндлера
│       │    └── interface.go        # Интерфейс хэндлера
│       │── usecase/
│       │    │── usecase.go          # Объект usecase
│       │    └── interface.go        # Интерфейс usecase
│       └── module.go                # Модуль, который собирает юзкейс и хэндлер
│
├── go.mod
└── README.md
```

⚡ Латентность и Производительность

Метрики производительности
Операция	Ожидаемая латентность	Примечания
PUT	1-2 мс	Запись в WAL + MemTable
GET (hit)	0.1-2 мс	Поиск в MemTable + SSTable с Bloom фильтром
GET (miss)	0.01-0.1 мс	Быстрая проверка Bloom фильтром
DELETE	1-2 мс	Запись tombstone

Факторы, влияющие на производительность
1. Чтение (GET)
MemTable hit: ~0.1 мс (in-memory)

SSTable hit: ~1-2 мс (disk seek + read)

Bloom filter miss: ~0.01 мс (no disk access)

2. Запись (POST)
Синхронная: 2-5 мс (WAL sync + MemTable)


3. Компрессия
Фоновая операция

Не блокирует основные операции

Влияет на общую производительность при активной работе